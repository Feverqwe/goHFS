/*! For license information please see player-6e3a175a42aa9dc97a1b.js.LICENSE.txt */
(()=>{"use strict";var e,t,r,n={917:(e,t,r)=>{var n;r.d(t,{F4:()=>f,xB:()=>l});var o=r(7294),a=(r(6898),r(4880)),s=(r(8679),r(444)),c=r(6797),u=(n||(n=r.t(o,2))).useInsertionEffect?(n||(n=r.t(o,2))).useInsertionEffect:o.useLayoutEffect,l=(0,a.w)((function(e,t){var r=e.styles,n=(0,c.O)([r],void 0,(0,o.useContext)(a.T)),l=(0,o.useRef)();return u((function(){var e=t.key+"-global",r=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",e),r.hydrate([a])),l.current=[r,o],function(){r.flush()}}),[t]),u((function(){var e=l.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&(0,s.My)(t,n.next,!0),r.tags.length){var o=r.tags[r.tags.length-1].nextElementSibling;r.before=o,r.flush()}t.insert("",n,r,!1)}}),[t,n.name]),null}));function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.O)(t)}var f=function(){var e=i.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},5251:(e,t,r)=>{var n=r(7294),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,u={},l=null,i=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(i=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(u[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===u[n]&&(u[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:i,props:u,_owner:s.current}}t.jsx=u,t.jsxs=u},5893:(e,t,r)=>{e.exports=r(5251)},1746:(e,t,r)=>{var n=r(7294);const o=function(e,t,r){let n=[];if(t(((...e)=>{n.push(e)})),!n.length)throw new Error("Listener is not set!");n.forEach((([t,r,n])=>{e.addEventListener(t,r,n)}));const o=()=>{n.splice(0).forEach((([t,r,n])=>{e.removeEventListener(t,r,n)}))};return r&&r.push(o),o},a=n.createContext((()=>{}));class s extends Error{constructor(e){super(e),this.name="ApiError"}}class c extends Error{constructor(e,t){super(`Response code ${e} (${t})`),this.statusCode=e,this.statusMessage=t,this.name="HTTPError"}}function u(e,t){return fetch(e,{method:"POST",body:JSON.stringify(t)}).then(l)}function l(e){return t=this,r=void 0,o=function*(){const t=yield e.json().catch((e=>null));if(null!==t&&"error"in t)throw new s(t.error);if(!e.ok)throw new c(e.status,e.statusText);if(!t)throw new Error("Empty body");return t.result},new((n=void 0)||(n=Promise))((function(e,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function c(e){try{u(o.throw(e))}catch(e){a(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,c)}u((o=o.apply(t,r||[])).next())}));var t,r,n,o}const i=class{static get(e){return u("/~/storage/get",e)}static set(e){return t=this,r=void 0,o=function*(){yield u("/~/storage/set",e)},new((n=void 0)||(n=Promise))((function(e,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function c(e){try{u(o.throw(e))}catch(e){a(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,c)}u((o=o.apply(t,r||[])).next())}));var t,r,n,o}};var f=r(9602),m=r(6470),d=r.n(m);const h=(0,f.ZP)("video")((()=>({width:"100%",height:"100%",outline:"none"}))),p=(0,n.memo)((({url:e,starTime:t})=>{const r=(0,n.useContext)(a),s=(0,n.useRef)(null),[c,u]=(0,n.useState)(!1),l=(0,n.useMemo)((()=>({starTime:t,metadataLoaded:!1})),[]);(0,n.useMemo)((()=>{l.starTime=t}),[l,t]);const f=(0,n.useMemo)((()=>{const t=/\/\/[^\/]+(.+)$/.exec(e);return t?t[1]:e}),[e]),m=(0,n.useMemo)((()=>{const t=/\/\/[^\/]+(.+?)(?:\.[a-z0-9]+)?$/i.exec(e);return t?t[1]:e}),[e]);return(0,n.useEffect)((()=>{let t;try{t=e&&new URL(e)}catch(e){}if(t){const e=d().basename(t.pathname);document.title=`[${c?">":"||"}] ${decodeURIComponent(e)}`}return()=>{document.title="Player"}}),[e,c]),(0,n.useEffect)((()=>{let e=!1;return i.get([m,f]).then((t=>{if(e)return;const r=t[m]||t[f];"number"==typeof r&&(l.starTime=r,s.current&&l.metadataLoaded&&(s.current.currentTime=r))})).catch((e=>{console.error("Storage.get error: %O",e)})),()=>{e=!0}}),[e]),(0,n.useEffect)((()=>{if(!e||!s.current)return;const t=s.current,n=[];let a=!1;o(t,(e=>e("fullscreenchange",(()=>{a=document.fullscreenElement===t}))),n);let c="";o(window,(e=>e("keyup",(e=>{c=""}),!0)),n),o(window,(e=>e("keydown",(e=>{const n=e.target;if(n&&"INPUT"===n.tagName)return;const o=e.code,s=e.code===c;if(!(e.ctrlKey||e.metaKey||e.shiftKey)){switch(o){case"Space":if(s)return;e.preventDefault(),t.paused?t.play().catch((e=>{console.log("play error: %O",e)})):t.pause();break;case"ArrowLeft":{e.preventDefault();const r=e.altKey?3:10;t.currentTime-=r;break}case"ArrowRight":{e.preventDefault();const r=e.altKey?3:10;t.currentTime+=r;break}case"KeyF":if(s)return;a?document.exitFullscreen().catch((e=>{console.error("exitFullscreen error: %O",e)})):t.requestFullscreen({navigationUI:"auto"}).catch((e=>{console.error("requestFullscreen error: %O",e)}));break;case"KeyN":if(s)return;e.preventDefault(),r()}c=o}}),!0)),n),o(t,(e=>e("click",(e=>{e.preventDefault(),t.paused?t.play().catch((e=>{console.log("play error: %O",e)})):t.pause()}))),n);let f=0;o(t,(e=>e("timeupdate",(e=>{const r=Date.now();f?f<r-5e3&&(f=r,i.set({[m]:t.currentTime}).catch((e=>{console.error("Storage.set error: %O",e)}))):f=r}))),n),o(t,(e=>{e("play",(e=>{u(!t.paused)})),e("pause",(e=>{u(!t.paused)}))}));const d=o(t,(e=>e("loadedmetadata",(()=>{d(),l.metadataLoaded=!0,l.starTime>0&&(t.currentTime=l.starTime),t.play().catch((e=>{console.error("auto play error: %O",e)}))}))),n);return t.src=e,t.focus(),()=>{n.splice(0).forEach((e=>e())),t.src="",l.metadataLoaded=!1}}),[e]),n.createElement(h,{ref:s,controls:!0})}));var y=r(3838),v=r(6501),g=r(7645),E=r(7750),b=r(1023),O=r(8979),w=r(2642);const _=n.memo((({onCancel:e,onSubmit:t})=>{const r=n.useCallback((e=>{if(t){e.preventDefault();const r=e.currentTarget.elements.url.value;t(r)}}),[t]),o=n.useCallback((()=>{e&&e()}),[e]);return n.createElement(y.Z,{open:!0,onClose:o,fullWidth:!0},n.createElement(v.Z,{component:"form",method:"GET",onSubmit:r},n.createElement(g.Z,null,"Enter url:"),n.createElement(E.Z,null,n.createElement(b.Z,{fullWidth:!0,size:"small",name:"url",type:"text",required:!0,autoFocus:!0})),n.createElement(O.Z,null,e&&n.createElement(w.Z,{variant:"outlined",type:"button",onClick:o},"Close"),n.createElement(w.Z,{variant:"contained",type:"submit"},"Open"))))}));var S=r(9695);function k(){const{url:e,time:t}=function(){const e=new URLSearchParams(location.search.substr(1)),t={};return e.forEach(((e,r)=>{if(r in t){let n=t[r];Array.isArray(n)||(n=[n],t[r]=n),n.push(e)}else t[r]=e})),t}();return{url:"string"==typeof e?e:"",time:Number(t)||0}}const x={html:{backgroundColor:"#000",width:"100%",height:"100%"},body:{backgroundColor:"inherit",margin:0,width:"100%",height:"100%"},"#root":{width:"100%",height:"100%"}},T=n.memo((()=>{const[{url:e,time:t},r]=(0,n.useState)(k),[o,s]=n.useState(!1);n.useEffect((()=>{e||s(!0)}),[]);const c=n.useCallback((()=>{s((e=>!e))}),[]),u=n.useCallback((e=>{!function(e){const t=new URL(location.href),r=t.searchParams;Object.entries(e).forEach((([e,t])=>{Array.isArray(t)?t.forEach((t=>r.set(e,t))):r.set(e,t)})),history.replaceState(null,"",t.toString())}({url:e,time:String(0)}),r(k()),l()}),[]),l=n.useCallback((()=>{s(!1)}),[]);return n.createElement(a.Provider,{value:c},n.createElement(S.Z,{styles:x}),n.createElement(p,{url:e,starTime:t}),o?n.createElement(_,{onCancel:e&&l||void 0,onSubmit:u}):null)}));var C=r(4880),P=r(4628),j=r(5974),L=r(6720),Z=r(6740);(0,r(745).s)(document.getElementById("root")).render(n.createElement(C.C,{value:P.Z},n.createElement(j.Z,{theme:Z.Z},n.createElement(L.ZP,null),n.createElement(T,null))))}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.m=n,e=[],a.O=(t,r,n,o)=>{if(!r){var s=1/0;for(i=0;i<e.length;i++){for(var[r,n,o]=e[i],c=!0,u=0;u<r.length;u++)(!1&o||s>=o)&&Object.keys(a.O).every((e=>a.O[e](r[u])))?r.splice(u--,1):(c=!1,o<s&&(s=o));if(c){e.splice(i--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[r,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var s={};t=t||[null,r({}),r([]),r(r)];for(var c=2&n&&e;"object"==typeof c&&!~t.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,a.d(o,s),o},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={35:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[s,c,u]=r,l=0;if(s.some((t=>0!==e[t]))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(u)var i=u(a)}for(t&&t(r);l<s.length;l++)o=s[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(i)},r=self.webpackChunkfolderpage=self.webpackChunkfolderpage||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=a.O(void 0,[351],(()=>a(1746)));s=a.O(s)})();